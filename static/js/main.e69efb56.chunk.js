(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{13:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",formLabel:"ContactForm_formLabel__1hDC-",formInput:"ContactForm_formInput__1r2bF",formButton:"ContactForm_formButton__2M3aA"}},14:function(t,e,n){t.exports={themeSwitcher:"SwitchTheme_themeSwitcher__1lDw4",label:"SwitchTheme_label__WC0od",themeSelector:"SwitchTheme_themeSelector__1B8O8",switch:"SwitchTheme_switch__2BQnD",slider:"SwitchTheme_slider__in4ol"}},19:function(t,e,n){t.exports={filter:"Filter_filter__1E5tH",filterContainer:"Filter_filterContainer__2eDOn",filterName:"Filter_filterName__2ZMlt"}},20:function(t,e,n){t.exports={title:"App_title__1YcTA",section:"App_section__1zThd"}},24:function(t,e,n){t.exports={contactItem:"ContactListItem_contactItem__3Q33w",phone:"ContactListItem_phone__XRgco"}},41:function(t,e,n){t.exports={contactButton:"ContactListButton_contactButton__1hXYk"}},42:function(t,e,n){t.exports={errorMessage:"ErrorBoundary_errorMessage__6_h5l"}},43:function(t,e,n){t.exports={contactList:"ContactList_contactList__3MzlG"}},44:function(t,e,n){t.exports={body:"Layout_body__2WDWT"}},46:function(t,e,n){t.exports=n(96)},95:function(t,e,n){},96:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(16),r=n.n(o),u=n(4),s=n(7),i=n(8),l=n(10),m=n(9),f=n(11),h=n(38),b=n.n(h),d=n(27),p=function(t){return t.contacts.phonebook},C=function(t){return t.contacts.filter.toLowerCase()},g={getLoading:function(t){return t.contacts.loading},getVisibleContacts:Object(d.a)([p,C],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),getFilter:C,getContactById:Object(d.a)([function(t,e){return e},p],(function(t,e){return e.find((function(e){return e.id===t}))})),getError:function(t){return t.contacts.error},getContacts:p},O=n(39),j=n(2),v=Object(j.b)("contacts/addRequest"),E=Object(j.b)("contacts/addSuccess"),_=Object(j.b)("contacts/addError"),y=Object(j.b)("contacts/fetchRequest"),S=Object(j.b)("contacts/fetchSuccess"),k=Object(j.b)("contacts/fetchError"),w={removeContactRequest:Object(j.b)("contacts/removeRequest"),removeContactSuccess:Object(j.b)("contacts/removeuccess"),removeContactError:Object(j.b)("contacts/removeError"),fetchContactRequest:y,fetchContactSuccess:S,fetchContactError:k,addContactRequest:v,addContactSuccess:E,addContactError:_,changeFilter:Object(j.b)("contacts/changeFilter")},N=n(12),F=n.n(N);F.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/v1",F.a.defaults.headers.common.Authorization="1474f3f5-f023-4759-aec0-68582b03d82b",F.a.defaults.headers.post["Content-Type"]="application/json";var R={addContact:function(t,e){return function(n){n(w.addContactRequest()),F.a.post("/contacts",{name:t,number:e}).then((function(t){var e=t.data;n(w.addContactSuccess(e))})).catch((function(t){return n(w.addContactError(t))}))}},fetchContacts:function(){return function(t){t(w.fetchContactRequest()),F.a.get("/contacts").then((function(e){var n=e.data;return t(w.fetchContactSuccess(n))})).catch((function(t){return w.fetchContactError(t)}))}},removeContact:function(t){return function(e){e(w.removeContactRequest()),F.a.delete("/contacts/".concat(t)).then((function(){return e(w.removeContactSuccess(t))})).catch((function(t){return e(w.fetchContactError(t))}))}}},L=n(24),T=n.n(L),q=n(41),B=n.n(q);function x(t){var e=t.onRemoveContact;return c.a.createElement("button",{className:B.a.contactButton,type:"button",onClick:e})}function I(t){var e=t.name,n=t.number,a=t.keys,o=t.onRemove;return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:T.a.contactItem,key:a},e,c.a.createElement("div",null,c.a.createElement("span",{className:T.a.phone}," ",n),c.a.createElement(x,{onRemoveContact:o}))))}I.defaultProps={name:"",phone:"",keys:""};var A=Object(u.b)((function(t,e){var n=g.getContactById(t,e.id);return Object(O.a)({},n)}),(function(t,e){return{onRemove:function(){return t(R.removeContact(e.id))}}}))(I),P=n(42),D=n.n(P);function M(t){var e=t.error;return c.a.createElement("p",{className:D.a.errorMessage},e.message)}M.defaultProps={message:"Something went wrong..."};var z=Object(u.b)((function(t){return{error:g.getError(t)}}))(M),W=n(43),J=n.n(W);function Q(t){var e=t.contacts,n=t.isLoadingContacts,a=t.isError;return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(z,null),n&&c.a.createElement(b.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),c.a.createElement("ul",{className:J.a.contactList},e.map((function(t){var e=t.id;return c.a.createElement(A,{key:e,id:e})}))))}Q.defaultProps={contacts:[]};var V=Object(u.b)((function(t){return{contacts:g.getVisibleContacts(t),isLoadingContacts:g.getLoading(t),isError:g.getError(t)}}))(Q),X=n(1),Y=n(13),G=n.n(Y),H=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(c)))).state={name:"",phone:""},n.handleChange=function(t){var e=t.target,a=e.name,c=e.value;n.setState(Object(X.a)({},a,c))},n.hanleSubmit=function(t){t.preventDefault();var e=n.state,a=e.name,c=e.phone;n.props.onAddContact(a,c),n.setState({name:"",phone:""})},n}return Object(f.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.phone;return c.a.createElement("form",{className:G.a.form,onSubmit:this.hanleSubmit},c.a.createElement("label",{className:G.a.formLabel},"Name",c.a.createElement("input",{className:G.a.formInput,type:"text",value:e,placeholder:"Enter name",onChange:this.handleChange,name:"name",required:!0})),c.a.createElement("label",{className:G.a.formLabel},"Phone",c.a.createElement("input",{className:G.a.formInput,type:"text",value:n,placeholder:"Enter phone",onChange:this.handleChange,name:"phone",required:!0})),c.a.createElement("button",{className:G.a.formButton,type:"submit"},"Add contact"))}}]),e}(a.Component);H.defaultProps={onAddContact:function(){}};var U={onAddContact:R.addContact},Z=Object(u.b)(null,U)(H),K=n(19),$=n.n(K);function tt(t){var e=t.value,n=t.onChangeFilter;return c.a.createElement("div",{className:$.a.filterContainer},c.a.createElement("label",{className:$.a.filterName},"Find contacts by name",c.a.createElement("input",{className:$.a.filter,type:"text",value:e,onChange:function(t){return n(t.target.value)}})," "))}tt.defaultProps={value:""};var et,nt,at,ct={onChangeFilter:w.changeFilter},ot=Object(u.b)((function(t){return{value:g.getFilter(t)}}),ct)(tt),rt={light:{fontColor:"black",bodyBg:"white"},dark:{fontColor:"white",bodyBg:"black"}},ut=c.a.createContext(rt),st=n(14),it=n.n(st),lt=function(t){var e=t.onToggleTheme;return c.a.createElement("div",{className:it.a.themeSwitcher},c.a.createElement("span",{className:it.a.label},"Theme"),c.a.createElement("label",{className:it.a.switch},c.a.createElement("input",{type:"checkbox",checked:it.a.checked,onChange:function(t){return e(t.target.value)}}),c.a.createElement("span",{className:it.a.slider})))},mt=n(18),ft=function(t){return function(e){function n(){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(m.a)(n).call(this))).state={theme:"light"},t.toggleTheme=t.toggleTheme.bind(Object(mt.a)(t)),t}return Object(f.a)(n,e),Object(i.a)(n,[{key:"toggleTheme",value:function(t){this.setState({theme:"dark"===this.state.theme?"light":"dark"})}},{key:"render",value:function(){var e=this;return c.a.createElement(ut.Provider,{value:rt[this.state.theme]},c.a.createElement(t,Object.assign({},this.props,{toggle:function(t){return e.toggleTheme(t)}})))}}]),n}(a.Component)},ht=n(44),bt=n.n(ht),dt=ft(function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ut.Consumer,null,(function(e){return c.a.createElement("div",{className:bt.a.body,style:{color:e.fontColor,background:e.bodyBg}},t.props.toggle&&c.a.createElement(lt,{onToggleTheme:function(e){return t.props.toggle(e)}}),t.props.children)})))}}]),e}(a.Component)),pt=n(20),Ct=n.n(pt),gt=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return c.a.createElement(dt,null,c.a.createElement("section",{className:Ct.a.section},c.a.createElement("h1",{className:Ct.a.title},"Phonebook"),c.a.createElement(Z,null),c.a.createElement("h2",{className:Ct.a.title},"Contacts"),this.props.contacts.length>1&&c.a.createElement(ot,null),c.a.createElement(V,null)))}}]),e}(a.Component),Ot={onFetchContacts:R.fetchContacts},jt=Object(u.b)((function(t){return{contacts:g.getContacts(t)}}),Ot)(gt),vt=n(15),Et=n(6),_t=Object(j.c)([],(et={},Object(X.a)(et,w.fetchContactSuccess,(function(t,e){return e.payload})),Object(X.a)(et,w.addContactSuccess,(function(t,e){return t.some((function(t){return t.name===e.payload.name}))?(alert("".concat(e.payload.name," is allready in contacts!")),Object(vt.a)(t)):[].concat(Object(vt.a)(t),[e.payload])})),Object(X.a)(et,w.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),et)),yt=Object(j.c)("",Object(X.a)({},w.changeFilter,(function(t,e){return e.payload}))),St=Object(j.c)(!1,(nt={},Object(X.a)(nt,w.fetchContactRequest,(function(){return!0})),Object(X.a)(nt,w.addContactRequest,(function(){return!0})),Object(X.a)(nt,w.removeContactRequest,(function(){return!0})),Object(X.a)(nt,w.addContactSuccess,(function(){return!1})),Object(X.a)(nt,w.fetchContactSuccess,(function(){return!1})),Object(X.a)(nt,w.removeContactSuccess,(function(){return!1})),Object(X.a)(nt,w.addContactError,(function(){return!1})),Object(X.a)(nt,w.fetchContactError,(function(){return!1})),Object(X.a)(nt,w.removeContactError,(function(){return!1})),nt)),kt=Object(j.c)("",(at={},Object(X.a)(at,w.fetchContactRequest,(function(){return""})),Object(X.a)(at,w.addContactRequest,(function(){return""})),Object(X.a)(at,w.removeContactRequest,(function(){return""})),Object(X.a)(at,w.addContactError,(function(t,e){return e.payload})),Object(X.a)(at,w.fetchContactError,(function(t,e){return e.payload})),Object(X.a)(at,w.removeContactError,(function(t,e){return e.payload})),at)),wt=Object(Et.combineReducers)({phonebook:_t,filter:yt,loading:St,error:kt}),Nt=n(45),Ft=n.n(Nt),Rt=Object(j.d)(),Lt=Object(j.a)({reducer:{contacts:wt},middleware:[].concat(Object(vt.a)(Rt),[Ft.a])});n(95);r.a.render(c.a.createElement(u.a,{store:Lt},c.a.createElement(jt,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.e69efb56.chunk.js.map